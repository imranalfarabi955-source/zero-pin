// Smooth scroll from header CTA button
document.querySelector(".cta-btn").addEventListener("click", () => {
  document.querySelector("#order").scrollIntoView({ behavior: "smooth" });
});

// Order button clicks fill product name & price
const orderButtons = document.querySelectorAll(".order-btn");
const productInput = document.getElementById("selected-product");
const priceInput = document.getElementById("selected-price");

orderButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    const productName = btn.getAttribute("data-product");
    const price = btn.parentElement.querySelector(".price").textContent.replace("৳", "").trim();
    
    productInput.value = productName;
    priceInput.value = price;
    document.querySelector("#order").scrollIntoView({ behavior: "smooth" });
  });
});

// Full Bangladesh Districts & Upazilas
const districts = {
  "বাগেরহাট": ["বাগেরহাট সদর", "চিতলমারি", "ফকিরহাট", "কচুয়া", "মোল্লাহাট", "মোড়েলগঞ্জ", "রামপাল", "শরণখোলা"],
  "বান্দরবান": ["বান্দরবান সদর", "থানচি", "রুমা", "লামা", "আলীকদম", "রোয়াংছড়ি"],
  "বরগুনা": ["আমতলী", "বামনা", "বরগুনা সদর", "বেতাগী", "পাথরঘাটা", "তলতলী"],
  "বরিশাল": ["আগৈলঝাড়া", "বাবুগঞ্জ", "বাকেরগঞ্জ", "বানারীপাড়া", "বরিশাল সদর", "গৌরনদী", "হিজলা", "মেহেন্দিগঞ্জ", "মূলাদি", "ওজিরপুর"],
  "ভোলা": ["ভোলা সদর", "বরহানউদ্দিন", "চারফাসন", "দৌলতখান", "লালমোহন", "মানপুরা", "তজুমুদ্দিন"],
  "বগুড়া": ["আদমদিঘি", "বগুড়া সদর", "বগুড়া সদর উত্তর", "বগুড়া সদর দক্ষিণ", "ধুনট", "গাবতলী", "কাহালু", "নন্দিগ্রাম", "শাজাহানপুর", "শেরপুর", "সারিয়াকান্দি", "শিবগঞ্জ"],
  "ব্রাহ্মণবাড়িয়া": ["ব্রাহ্মণবাড়িয়া সদর", "আশুগঞ্জ", "বাঞ্ছারামপুর", "বিজয়নগর", "কসবা", "নবীনগর", "সরাইল", "নাসিরনগর", "সাবাইল"],
  "চাঁদপুর": ["চাঁদপুর সদর", "ফরিদগঞ্জ", "হাইমচর", "কচুয়া", "শাহরাস্তি"],
  "চট্টগ্রাম": ["আনোয়ারা", "বানসখালী", "বোয়ালখালী", "চন্দনাইশ", "চট্টগ্রাম সদর", "ফটিকছড়ি", "হাটহাজারী", "লোহাগাড়া", "মীরসরাই", "পটিয়া", "রাঙ্গুনিয়া", "রাঙ্গামাটি", "সন্দ্বীপ", "সাতকানিয়া", "সীতাকুণ্ড", "উখিয়া", "কক্সবাজার সদর"],
  "চুয়াডাঙ্গা": ["আলমডাঙ্গা", "চুয়াডাঙ্গা সদর", "দামুরহুদা", "জীবননগর"],
  "কুমিল্লা": ["বড়ুয়া", "ব্রাহ্মণপাড়া", "চন্দিনা", "চাঁদপুর", "কুমিল্লা আদর্শ সদর", "দাউদকান্দি", "দেবিদ্বার", "হোমনা", "মেঘনা", "মুরাদনগর", "টিটাস", "লক্ষ্মীপুর"],
  "কক্সবাজার": ["চকরিয়া", "কক্সবাজার সদর", "কুতুবদিয়া", "মহেশখালী", "রামু", "টেকনাফ", "উখিয়া", "মহেশখালী"],
  "ঢাকা": ["ধামরাই", "দোহার", "কেরানীগঞ্জ", "নবাবগঞ্জ", "সাভার", "ধানমন্ডি", "গুলশান", "মিরপুর", "তেজগাঁও"],
  "দিনাজপুর": ["বিরামপুর", "বিরগঞ্জ", "বছাগঞ্জ", "চিরিরবন্দর", "দিনাজপুর সদর", "ঘোড়াঘাট", "হাকিমপুর", "কাহারোলে", "খানসামা", "নবাবগঞ্জ", "পার্বতীপুর", "ফুলবাড়ী", "বিরগঞ্জ"],
  "ফরিদপুর": ["আলফাডাঙ্গা", "ভাঙ্গা", "বোয়ালমারী", "ফরিদপুর সদর", "মধুখালি", "নগরকান্দা", "সদরপুর", "সালথা"],
  "ফেনী": ["ছাগলনাইয়া", "দাগনভূইয়া", "ফেনী সদর", "ফুলগাজী", "পর্শুরাম", "সোনাগাজী"],
  "গাইবান্ধা": ["গাইবান্ধা সদর", "ফুলছড়ি", "পলাশবাড়ী", "সাঘাটা", "সুন্দরগঞ্জ", "ফুলছড়ি", "সদর দক্ষিণ", "সদুল্লাপুর"],
  "গাজীপুর": ["গাজীপুর সদর", "কালিয়াকান্দি", "কালিগঞ্জ", "কাপাসিয়া", "শ্রীপুর", "টঙ্গি"],
  "গোপালগঞ্জ": ["গোপালগঞ্জ সদর", "কোটালীপাড়া", "মুকসুদপুর", "টুঙ্গিপাড়া"],
  "হবিগঞ্জ": ["আজমিরিগঞ্জ", "বানিয়াচং", "চুনারুঘাট", "হবিগঞ্জ সদর", "লাখাই", "মাধবপুর", "নবীগঞ্জ", "শায়েস্তাগঞ্জ", "বাহুবল"],
  "জামালপুর": ["বাকসিগঞ্জ", "দেওয়ানগঞ্জ", "ইসলামপুর", "জামালপুর সদর", "মাদারগঞ্জ", "মেলানদহ", "সারিশাবারি"],
  "যশোর": ["অভয়নগর", "বাঘারপাড়া", "চৌগাছা", "যশোর সদর", "কেশবপুর", "মনিরামপুর", "শারশা", "ঝিকরগাছা"],
  "ঝালকাঠি": ["ঝালকাঠি সদর", "কাঠালিয়া", "নলছিটি", "রাজাপুর"],
  "ঝিনাইদহ": ["হরিনাকুন্ডা", "ঝিনাইদহ সদর", "কালীগঞ্জ", "কোটচাঁদপুর", "মহেশপুর", "শৈলকুপা"],
  "জয়পুরহাট": ["অক্কেলপুর", "জয়পুরহাট সদর", "কালাই", "খেতলাল", "পঞ্চবিবি"],
  "খাগড়াছড়ি": ["খাগড়াছড়ি সদর", "দিঘীনালা", "লক্ষ্মীছড়ি", "মহালছড়ি", "মানিকছড়ি", "মাটিরাঙ্গা", "পঞ্চহরি", "রামগড়"],
  "খুলনা": ["বটিয়াঘাটা", "ডাকোপ", "দুমুরি", "কয়রা", "পাইকগাছা", "রূপসা", "তেরখাদা", "খুলনা সদর", "সোনাডাঙ্গা", "দৌলতপুর"],
  "কিশোরগঞ্জ": ["অস্ট্রাগ্রাম", "বাজিতপুর", "ভৈরব", "হোসেনপুর", "ইটনা", "করিমগঞ্জ", "কতিয়াদি", "কিশোরগঞ্জ সদর", "কুলিয়ারচর", "মিঠামাইন", "নিকলি", "পাকুন্দিয়া", "তারাইল"],
  "কুড়িগ্রাম": ["ফুলবাড়ী", "রাজারহাট", "কুড়িগ্রাম সদর", "নাগেশ্বরী", "ভূরুঙ্গামারী", "উলিপুর", "চিলমারী", "রৌমারী"],
  "কুষ্টিয়া": ["ভেরামারা", "দৌলতপুর", "খোকসা", "কুমারখালী", "কুষ্টিয়া সদর", "মিরপুর", "শৈলকুপা"],
  "লক্ষ্মীপুর": ["রায়পুর", "লক্ষ্মীপুর সদর", "রামগঞ্জ", "রামগতি", "কমলনগর"],
  "লালমনিরহাট": ["আদিতমারী", "কালীগঞ্জ", "লালমনিরহাট সদর", "হাতিবন্ধা", "পাটগ্রাম"],
  "মাদারীপুর": ["কালকিনি", "মাদারীপুর সদর", "রাজৈর", "শিবচর"],
  "মাগুরা": ["মাগুরা সদর", "মোহাম্মদপুর", "শালিখা", "শ্রীপুর"],
  "মানিকগঞ্জ": ["দৌলতপুর", "ঘিওর", "হরিরামপুর", "মানিকগঞ্জ সদর", "সাতুরিয়া", "শিবালয়া", "সিঙ্গাইর"],
  "মেহেরপুর": ["মেহেরপুর সদর", "গণিনি", "মুজিবনগর"],
  "মুন্সিগঞ্জ": ["লহাজং", "মুন্সিগঞ্জ সদর", "শ্রীনগর", "টঙ্গিবাড়ি"],
  "ময়মনসিংহ": ["ভালুকা", "ত্রিশাল", "গফরগাঁও", "ঈশ্বরগঞ্জ", "ময়মনসিংহ সদর", "মুক্তাগাছা", "ফুলপুর", "হালুয়াঘাট", "নন্দাইল", "গৌরিপুর"],
  "নওগাঁ": ["আত্রাই", "বদলগাছী", "ধামইরহাট", "মান্ডা", "নওগাঁ সদর", "নিয়ামতপুর", "পত্নীটালা", "পোরশা", "রাণীনগর", "সাপাহার", "মহাদেবপুর", "পঞ্চবিবি"],
  "নড়াইল": ["কালিয়া", "নড়াইল সদর", "লোহাগাড়া"],
  "নরসিংদী": ["বেলাবো", "মনোহরদী", "নরসিংদী সদর", "পলাশ", "রায়পুরা", "শিবপুর"],
  "নাটোর": ["বড়াইগ্রাম", "বাগাতিপাড়া", "নাটোর সদর", "গুরুদাসপুর", "লালপুর", "নবাবগঞ্জ", "সিঙ্গ্রা"],
  "নেত্রকোণা": ["আটপাড়া", "বড়হট্টা", "দুর্গাপুর", "খলিয়াজুরি", "কালমাকান্দা", "মোহনগঞ্জ", "নেত্রকোণা সদর", "পূর্বধলা", "ধর্মপাশা"],
  "নীলফামারী": ["ডিমলা", "ডোমার", "জলঢাকা", "কিশোরগঞ্জ", "নীলফামারী সদর", "সৈয়দপুর", "কুড়িগ্রাম"],
  "নোয়াখালী": ["বেগমগঞ্জ", "চাটখিল", "কোম্পানীগঞ্জ", "হাতিয়া", "নোয়াখালী সদর", "সেনবাগ", "সুবর্ণচর"],
  "পাবনা": ["আটঘোরিয়া", "বেড়া", "ভাঙ্গুরা", "চাটমোহর", "ফরিদপুর", "ঈশ্বরদী", "পাবনা সদর", "সাঁথিয়া", "সুজানগর"],
  "পঞ্চগড়": ["আটওয়ারী", "বোদা", "দেবীগঞ্জ", "পঞ্চগড় সদর", "টেটুলিয়া"],
  "পটুয়াখালী": ["বাউফল", "দশমিনা", "গলাচিপা", "কালাপাড়া", "মির্জাগঞ্জ", "পটুয়াখালী সদর", "রাঙ্গাবালি", "দুমকি"],
  "পিরোজপুর": ["ভাণ্ডারিয়া", "কাওখালি", "মাঠবাড়ীয়া", "নজিরপুর", "নেছারাবাদ", "পিরোজপুর সদর", "জিয়ানগর"],
  "রাজবাড়ী": ["বালিয়াকান্দি", "গোলান্দা", "পাংশা", "রাজবাড়ী সদর", "কালুখালি"],
  "রাজশাহী": ["বাঘা", "বাগমারা", "চারঘাট", "দুর্গাপুর", "গোদাগাড়ী", "মোহনপুর", "পাবা", "পুথিয়া", "তানোর", "রাজশাহী সদর"],
  "রংপুর": ["বাদরগঞ্জ", "গঙ্গাচড়া", "কাউনিয়া", "মিঠাপুকুর", "পীরগঞ্জ", "রংপুর সদর", "পীরগঞ্জ", "তারাগঞ্জ", "গঙ্গাচড়া"],
  "সাতক্ষীরা": ["আসসাসুনি", "দেবহাটা", "কালারোয়া", "কালিগঞ্জ", "সাতক্ষীরা সদর", "শ্যামনগর", "তালা", "তালা"],
  "শরীয়তপুর": ["ভেদরগঞ্জ", "দামুড়িয়া", "গোসাইরহাট", "নারায়ণগঞ্জ", "শরীয়তপুর সদর", "ঝাঞ্জিরা"],
  "শেরপুর": ["নকলা", "নলিতাবাড়ি", "শেরপুর সদর", "শ্রীবর্দি", "ঝিনাইগাতি"],
  "সিরাজগঞ্জ": ["বেলকুচি", "চৌহালি", "কামারখন্দা", "কাজিপুর", "রায়গঞ্জ", "শাহজাদপুর", "সিরাজগঞ্জ সদর", "তারাশ", "উল্লাপাড়া"],
  "সুনামগঞ্জ": ["বিশ্বম্ভারপুর", "ছাতক", "দেড়াই", "ধর্মপাশা", "দোয়ারাবাজার", "জগন্নাথপুর", "জামালগঞ্জ", "সুল্লাহ", "সুনামগঞ্জ সদর", "তাহেরপুর", "তাহিরপুর"],
  "সিলেট": ["বালাগঞ্জ", "বীরাণীবাজার", "বিশ্বনাথ", "কোম্পানীগঞ্জ", "দক্ষিণ সুরমা", "ফেঞ্চুগঞ্জ", "গোলাপগঞ্জ", "গোয়াইনঘাট", "হবিগঞ্জ", "জৈন্তাপুর", "কানাইঘাট", "সিলেট সদর", "জকিগঞ্জ"],
  "টাঙ্গাইল": ["ভুয়ারপুর", "দেলদুয়ার", "ধনবাড়ী", "গোপালপুর", "কালিহাতি", "মধুপুর", "মির্জাপুর", "নাগরপুর", "সখিপুর", "টাঙ্গাইল সদর", "বাসাইল", "গোপালপুর"],
  "ঠাকুরগাঁও": ["বালিয়াদীং", "হরিপুর", "রাণীসংকাইল", "ঠাকুরগাঁও সদর", "পীরগঞ্জ", "বিন্দা"],
};


const districtSelect = document.getElementById("district");
const upazilaSelect = document.getElementById("upazila");

// Populate district dropdown
for (let district in districts) {
  let option = document.createElement("option");
  option.value = district;
  option.textContent = district;
  districtSelect.appendChild(option);
}

// Update upazila when district changes
districtSelect.addEventListener("change", () => {
  upazilaSelect.innerHTML = '<option value="">উপজেলা নির্বাচন করুন</option>';
  const upazilas = districts[districtSelect.value] || [];
  upazilas.forEach(upazila => {
    let option = document.createElement("option");
    option.value = upazila;
    option.textContent = upazila;
    upazilaSelect.appendChild(option);
  });
});

// Form submit handling
const orderForm = document.getElementById("order-form");
const formMessage = document.getElementById("form-message");

orderForm.addEventListener("submit", (e) => {
  e.preventDefault();
  fetch(orderForm.action, {
    method: "POST",
    body: new FormData(orderForm),
    headers: { 'Accept': 'application/json' }
  })
  .then(response => {
    if (response.ok) {
      formMessage.style.display = "block";
      orderForm.reset();
      productInput.value = "";
      priceInput.value = "";
      document.getElementById("quantity").value = 1;
    } else {
      alert("দুঃখিত! ফর্ম সাবমিশনে সমস্যা হয়েছে।");
    }
  })
  .catch(() => alert("দুঃখিত! ফর্ম সাবমিশনে সমস্যা হয়েছে।"));
});
